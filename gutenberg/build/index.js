!function(){"use strict";var e=window.wp.blocks,o=window.wp.element;const c=(0,o.createElement)("svg",{viewBox:"0 0 24 24",height:"24",width:"24"},(0,o.createElement)("path",{stroke:"#000","stroke-width":"1",fill:"none",d:"M1 3 L4 3 L4 12 L1 12 L1 3 Z M7 3 L17 3 L17 12 L7 12 L7 3 Z M20 3 L23 3 L23 12 L20 12 L20 3 Z"}));var n=window.wp.i18n,a=window.wp.blockEditor,r=window.wp.components,i=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":2,"name":"bqworks/accordion-slider","version":"1.0.0","title":"Accordion Slider","category":"widgets","icon":"slides","description":"Insert an Accordion Slider instance.","keywords":["slider","accordion"],"attributes":{"accordionId":{"type":"integer","default":-1}},"supports":{"html":false,"customClassName":false},"example":{"attributes":{"accordionId":1}},"textdomain":"accordion-slider","editorScript":"file:./index.js","editorStyle":"file:./index.css"}');(0,e.registerBlockType)(i,{icon:c,edit:function(e){const{attributes:i,setAttributes:t}=e,[d,s]=(0,o.useState)([]);void 0===window.accordionSlider&&(window.accordionSlider={accordions:[],accordionsDataStatus:""});const l=e=>{const o=d.find((o=>o.value===e));return void 0!==o&&o};return(0,o.useEffect)((()=>{(()=>{if("loaded"===window.accordionSlider.accordionsDataStatus)s(window.accordionSlider.accordions);else if("loading"===window.accordionSlider.accordionsDataStatus){const e=setInterval((function(){"loaded"===window.accordionSlider.accordionsDataStatus&&(clearInterval(e),s(window.accordionSlider.accordions))}),100)}else window.accordionSlider.accordionsDataStatus="loading",new Promise((e=>{wp.apiFetch({path:"accordion-slider/v1/accordions"}).then((function(o){let c=[];for(const e in o)c.push({label:`${o[e]} (${e})`,value:parseInt(e)});e(c)}))})).then((e=>{window.accordionSlider.accordionsDataStatus="loaded",window.accordionSlider.accordions=e,s(e)}))})()}),[]),(0,o.createElement)("div",(0,a.useBlockProps)(),(0,o.createElement)(r.Placeholder,{label:"Accordion Slider",icon:c},"loaded"!==window.accordionSlider.accordionsDataStatus?(0,o.createElement)("div",{className:"sp-gutenberg-accordion-placeholder-content"}," ",(0,n.__)("Loading Accordion Slider data...","accordion-slider")," "):0===window.accordionSlider.accordions.length?(0,o.createElement)("div",{className:"sp-gutenberg-accordion-placeholder-content"}," ",(0,n.__)("You don't have any created accordions yet.","accordion-slider")," "):!1===l(i.accordionId)?(0,o.createElement)("div",{className:"sp-gutenberg-accordion-placeholder-content"}," ",(0,n.__)("Select an accordion from the Block settings.","accordion-slider")," "):(0,o.createElement)("div",{className:"sp-gutenberg-accordion-placeholder-content"},(0,o.createElement)("p",{className:"sp-gutenberg-accordion-identifier"}," ",(e=>{const o=l(e);return!1!==o?o.label:""})(i.accordionId)," "),(0,o.createElement)("a",{className:"sp-gutenberg-edit-accordion",href:`${as_gutenberg_js_vars.admin_url}?page=accordion-slider&id=${i.accordionId}&action=edit`,target:"_blank"}," ",(0,n.__)("Edit Accordion","accordion-slider")," "))),(0,o.createElement)(a.InspectorControls,null,(0,o.createElement)(r.SelectControl,{className:"sp-gutenberg-select-accordion",label:(0,n.__)("Select an accordion from the list:","accordion-slider"),options:[{label:(0,n.__)("None","accordion-slider"),value:-1},...d],value:i.accordionId,onChange:e=>t({accordionId:parseInt(e)})}),0===window.accordionSlider.accordions.length&&(0,o.createElement)("p",{className:"sp-gutenberg-no-accordions-text",dangerouslySetInnerHTML:{__html:sprintf((0,n.__)('You don\'t have any created accordions yet. You can create and manage accordions in the <a href="%s" target="_blank">dedicated area</a>, and then use the block to load the accordions.',"accordion-slider"),`${as_gutenberg_js_vars.admin_url}?page=accordion-slider`)}})))},save:function(e){const{attributes:c}=e;return(0,o.createElement)("div",a.useBlockProps.save(),-1!==c.accordionId&&`[accordion_slider id="${c.accordionId}"]`)}})}();